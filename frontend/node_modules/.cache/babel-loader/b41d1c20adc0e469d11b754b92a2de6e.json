{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/msi/Desktop/Web Dev/MERN Stack/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/msi/Desktop/Web Dev/MERN Stack/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";//date fns\nimport formatDistanceToNow from'date-fns/formatDistanceToNow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkoutDetails=function WorkoutDetails(_ref){var workout=_ref.workout;var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(user){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch('/api/workouts/'+workout._id,{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(user.token)}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(response.ok){dispatch({type:'DELETE_WORKOUT',payload:json});console.log('workout deleted');}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"workout-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:workout.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Load (kg): \"}),workout.load]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rep: \"}),workout.reps]}),/*#__PURE__*/_jsx(\"p\",{children:formatDistanceToNow(new Date(workout.createdAt),{addSuffix:true})}),/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",onClick:handleClick,children:\"Delete\"})]});};export default WorkoutDetails;","map":{"version":3,"names":["useWorkoutsContext","useAuthContext","formatDistanceToNow","WorkoutDetails","workout","dispatch","user","handleClick","fetch","_id","method","headers","token","response","json","ok","type","payload","console","log","title","load","reps","Date","createdAt","addSuffix"],"sources":["C:/Users/msi/Desktop/Web Dev/MERN Stack/frontend/src/components/WorkoutDetails.js"],"sourcesContent":["import { useWorkoutsContext } from \"../hooks/useWorkoutsContext\"\r\nimport { useAuthContext } from \"../hooks/useAuthContext\"\r\n\r\n//date fns\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\r\n\r\nconst WorkoutDetails = ({ workout }) => {\r\n    const { dispatch } = useWorkoutsContext()\r\n    const {user} = useAuthContext()\r\n\r\n    const handleClick = async () => {\r\n        if(!user){\r\n            return\r\n        }\r\n\r\n        const response = await fetch('/api/workouts/' + workout._id, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Authorization': `Bearer ${user.token}`\r\n            }\r\n        })\r\n        const json = await response.json()\r\n\r\n        if (response.ok) {\r\n            dispatch({ type: 'DELETE_WORKOUT', payload: json })\r\n            console.log('workout deleted')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"workout-details\">\r\n            <h4>{workout.title}</h4>\r\n            <p><strong>Load (kg): </strong>{workout.load}</p>\r\n            <p><strong>Rep: </strong>{workout.reps}</p>\r\n            <p>{formatDistanceToNow(new Date(workout.createdAt),{addSuffix: true})}</p>\r\n            <span className=\"material-symbols-outlined\" onClick={handleClick}>Delete</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WorkoutDetails"],"mappings":"4RAAA,OAASA,kBAAT,KAAmC,6BAAnC,CACA,OAASC,cAAT,KAA+B,yBAA/B,CAEA;AACA,MAAOC,oBAAP,KAAgC,8BAAhC,C,wFAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,MAAiB,IAAdC,QAAc,MAAdA,OAAc,CACpC,wBAAqBJ,kBAAkB,EAAvC,CAAQK,QAAR,qBAAQA,QAAR,CACA,oBAAeJ,cAAc,EAA7B,CAAOK,IAAP,iBAAOA,IAAP,CAEA,GAAMC,YAAW,6FAAG,0JACZD,IADY,uFAKOE,MAAK,CAAC,iBAAmBJ,OAAO,CAACK,GAA5B,CAAiC,CACzDC,MAAM,CAAE,QADiD,CAEzDC,OAAO,CAAE,CACL,iCAA2BL,IAAI,CAACM,KAAhC,CADK,CAFgD,CAAjC,CALZ,QAKVC,QALU,qCAWGA,SAAQ,CAACC,IAAT,EAXH,QAWVA,IAXU,eAahB,GAAID,QAAQ,CAACE,EAAb,CAAiB,CACbV,QAAQ,CAAC,CAAEW,IAAI,CAAE,gBAAR,CAA0BC,OAAO,CAAEH,IAAnC,CAAD,CAAR,CACAI,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACH,CAhBe,sDAAH,kBAAXZ,YAAW,2CAAjB,CAmBA,mBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,oBAAKH,OAAO,CAACgB,KAAb,EADJ,cAEI,kCAAG,uCAAH,CAAgChB,OAAO,CAACiB,IAAxC,GAFJ,cAGI,kCAAG,iCAAH,CAA0BjB,OAAO,CAACkB,IAAlC,GAHJ,cAII,mBAAIpB,mBAAmB,CAAC,GAAIqB,KAAJ,CAASnB,OAAO,CAACoB,SAAjB,CAAD,CAA6B,CAACC,SAAS,CAAE,IAAZ,CAA7B,CAAvB,EAJJ,cAKI,aAAM,SAAS,CAAC,2BAAhB,CAA4C,OAAO,CAAElB,WAArD,oBALJ,GADJ,CASH,CAhCD,CAkCA,cAAeJ,eAAf"},"metadata":{},"sourceType":"module"}